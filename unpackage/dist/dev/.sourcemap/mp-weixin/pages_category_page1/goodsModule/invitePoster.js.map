{"version":3,"sources":["webpack:///F:/project/60小程序/6006正品茂商城/zhengpinmaoapinew/ceres-uniapp/components/tki-qrcode/tki-qrcode.vue?3beb","webpack:///F:/project/60小程序/6006正品茂商城/zhengpinmaoapinew/ceres-uniapp/components/tki-qrcode/tki-qrcode.vue?0103","webpack:///F:/project/60小程序/6006正品茂商城/zhengpinmaoapinew/ceres-uniapp/components/tki-qrcode/tki-qrcode.vue?6cd5","webpack:///F:/project/60小程序/6006正品茂商城/zhengpinmaoapinew/ceres-uniapp/components/tki-qrcode/tki-qrcode.vue?2d1c","uni-app:///components/tki-qrcode/tki-qrcode.vue","webpack:///F:/project/60小程序/6006正品茂商城/zhengpinmaoapinew/ceres-uniapp/components/tki-qrcode/tki-qrcode.vue?dc75","webpack:///F:/project/60小程序/6006正品茂商城/zhengpinmaoapinew/ceres-uniapp/components/tki-qrcode/tki-qrcode.vue?cd0e","uni-app:///main.js","webpack:///F:/project/60小程序/6006正品茂商城/zhengpinmaoapinew/ceres-uniapp/pages_category_page1/goodsModule/invitePoster.vue?6814","webpack:///F:/project/60小程序/6006正品茂商城/zhengpinmaoapinew/ceres-uniapp/pages_category_page1/goodsModule/invitePoster.vue?b1a1","webpack:///F:/project/60小程序/6006正品茂商城/zhengpinmaoapinew/ceres-uniapp/pages_category_page1/goodsModule/invitePoster.vue?d2dd","webpack:///F:/project/60小程序/6006正品茂商城/zhengpinmaoapinew/ceres-uniapp/pages_category_page1/goodsModule/invitePoster.vue?7ec0","uni-app:///pages_category_page1/goodsModule/invitePoster.vue","webpack:///F:/project/60小程序/6006正品茂商城/zhengpinmaoapinew/ceres-uniapp/pages_category_page1/goodsModule/invitePoster.vue?8864","webpack:///F:/project/60小程序/6006正品茂商城/zhengpinmaoapinew/ceres-uniapp/pages_category_page1/goodsModule/invitePoster.vue?b4af"],"names":["name","props","cid","type","default","size","unit","show","val","background","foreground","pdground","icon","iconSize","lv","onval","loadMake","usingComponents","showLoading","loadingText","data","result","methods","_makeCode","qrcode","context","canvasId","text","correctLevel","image","imageSize","cbResult","that","uni","title","duration","_clearCode","_saveCode","filePath","success","_result","_empty","rt","watch","setTimeout","computed","cpSize","mounted","wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","canvasWidth","codeImg","codeImg2","headImage","qrcodeimg","onLoad","savePoster","console","fileType","quality","fail","url","content","confirmText","cancelText","current","urls","saveDownload","getShare","NET","collageId","orderId","productId","skuId","getCanvas","src","ctx","exportImg","drawRound"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+I;AAC/I;AAC8D;AACL;AACa;;;AAGtE;AACoL;AACpL,gBAAgB,6LAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,6GAAM;AACR,EAAE,sHAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iHAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA+qB,CAAgB,osBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACYnsB;;;;;;;;;;;;;AACA;AAAA,eACA;EACAA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACAG;MACAJ;MACAC;IACA;IACAI;MACAL;MACAC;IACA;IACAK;MACAN;MACAC;IACA;IACAM;MACAP;MACAC;IACA;IACAO;MACAR;MACAC;IACA;IACAQ;MACAT;MACAC;IACA;IACAS;MACAV;MACAC;IACA;IACAU;MACAX;MACAC;IACA;IACAW;MACAZ;MACAC;IACA;IACAY;MACAb;MACAC;IACA;IACAa;MACAd;MACAC;IACA;IACAc;MACAf;MACAC;IACA;IACAe;MACAhB;MACAC;IACA;EACA;EACAgB;IACA;MACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;QACAC;UACAC;UAAA;UACAC;UAAA;UACAT;UAAA;UACAC;UAAA;UACAC;UAAA;UACAQ;UAAA;UACAtB;UAAA;UACAI;UAAA;UACAC;UAAA;UACAC;UAAA;UACAiB;UAAA;UACAC;UAAA;UACAC;UAAA;UACAC;YAAA;YACAC;UACA;QACA;MACA;QACAC;UACAC;UACAtB;UACAuB;QACA;MACA;IACA;IACAC;MACA;MACAZ;IACA;IACAa;MACA;MACA;QACAJ;UACAK;UACAC;YACAN;cACAC;cACAtB;cACAuB;YACA;UACA;QACA;MACA;IACA;IACAK;MACA;MACA;IACA;IACAC;MACA;QACAC;MACA;QACAA;MACA;QACAA;MACA;QACA;MACA;QACA;MACA;QACAA;MACA;MACA;IACA;EACA;EACAC;IACAtC;MAAA;MACA;QACA;QACA;UACAuC;YACA;UACA;QACA;MACA;IACA;IACApC;MAAA;MACA;QACA;UACAoC;YACA;UACA;QACA;MACA;IACA;EACA;EACAC;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;EACA;EACAC;IAAA;IACA;MACA;QACAH;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACpMA;AAAA;AAAA;AAAA;AAA+9B,CAAgB,y9BAAG,EAAC,C;;;;;;;;;;;ACAn/B;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;;;;ACNL;AAGA;AACA;AAHA;AACAI,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,qBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACc;;;AAGzE;AACoL;AACpL,gBAAgB,6LAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAirB,CAAgB,ssBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACqCrsB;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAHA;AACA;AAAA,eAGA;EACAhC;IACA;MACAA;MACAiC;MACAC;MACAC;MACAC;MACA3B;MACAL;MACAiC;IACA;EACA;EACAC;IACA;IACA;EACA;EACApC;IACAqC;MACA;QACA1B;UACAC;QACA;QACA0B;QACA;QACAhB;UAEAX;YAAA;YACA4B;YAAA;YACAC;YAAA;YACApC;YAAA;YACAa;cACAqB;cACA5B;YACA;YACA+B;cACA9B;gBACAC;gBACAC;gBACAvB;cACA;cACAqB;YACA;UACA;QAiCA;MACA;QACAA;UACAC;QACA;QACA;QACAU;UACAX;YAAA;YACA4B;YAAA;YACAC;YAAA;YACApC;YAAA;YACAa;cACAN;gBACA+B;gBAAA;gBACAzB;kBACA;oBACAN;oBACAA;sBACAC;sBACA+B;sBACAC;sBACAC;sBACA5B;wBACA;0BACAN;4BACAmC;4BAAA;4BACAC;0BACA;wBACA;sBACA;oBACA;kBACA;gBACA;cACA;YACA;YACAN;cACAH;cACA3B;gBACAC;gBACAC;gBACAvB;cACA;YACA;UACA;QACA;MACA;IACA;IACA0D;MACArC;QACA+B;QAAA;QACAzB;UACA;YACA;YACAqB;YACA3B;cAAA;cACAK;cAAA;cACAC;gBACAqB;gBACA3B;gBACAA;kBACAC;kBACAC;gBACA;cACA;cACA4B;gBACA;kBACA/B;kBACAC;oBACAC;oBACAC;oBACAvB;kBACA;gBACA;kBACAqB;oBACAC;oBACAC;oBACAvB;kBACA;gBACA;gBACAqB;cACA;YACA;UACA;QACA;MACA;IACA;IACAsC;MAAA;MACAC,0BACA;QACAC;QACAC;QACAC;QACAC;QACAzE;MACA,GACA;QACA;QACA;MACA,yBACA;IACA;IACA0E;MACA;MACA5C;QACA6C;QACAvC;UACAP;UACAC;YACA6C;YACAvC;cACAP;cACAC;gBACA6C;gBACAvC;kBACAP;kBACAY;oBACA;oBACAmC;oBACAA;oBACA;oBACA/C;oBACA+C;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;oBACAA;kBACA;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;IACAC;MACA/C;QACA4B;QACAnC;QACAa;UACA;UACA;;UAEAP;QASA;MACA;IACA;IACAiD;MACAF;MACA;MACA;MACA;MACA;MACAA;MACAA;MACAA;MACAA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACzSA;AAAA;AAAA;AAAA;AAAwxC,CAAgB,qvCAAG,EAAC,C;;;;;;;;;;;ACA5yC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages_category_page1/goodsModule/invitePoster.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./tki-qrcode.vue?vue&type=template&id=143ec824&xlang=wxml&minapp=mpvue&\"\nvar renderjs\nimport script from \"./tki-qrcode.vue?vue&type=script&lang=js&\"\nexport * from \"./tki-qrcode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tki-qrcode.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/tki-qrcode/tki-qrcode.vue\"\nexport default component.exports","export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tki-qrcode.vue?vue&type=template&id=143ec824&xlang=wxml&minapp=mpvue&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tki-qrcode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tki-qrcode.vue?vue&type=script&lang=js&\"","<template xlang=\"wxml\" minapp=\"mpvue\">\r\n\t<view class=\"tki-qrcode\">\r\n\t\t<!-- #ifndef MP-ALIPAY -->\r\n\t\t<canvas class=\"tki-qrcode-canvas\" :canvas-id=\"cid\" :style=\"{width:cpSize+'px',height:cpSize+'px'}\" />\r\n\t\t<!-- #endif -->\r\n\t\t<!-- #ifdef MP-ALIPAY -->\r\n\t\t<canvas :id=\"cid\" :width=\"cpSize\" :height=\"cpSize\" class=\"tki-qrcode-canvas\" />\r\n\t\t<!-- #endif -->\r\n\t\t<image v-show=\"show\" :src=\"result\" :style=\"{width:cpSize+'px',height:cpSize+'px'}\" />\r\n\t</view>\r\n</template>\r\n<script>\r\nimport QRCode from \"./qrcode.js\"\r\nlet qrcode\r\nexport default {\r\n\tname: \"tki-qrcode\",\r\n\tprops: {\r\n\t\tcid: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'tki-qrcode-canvas'\r\n\t\t},\r\n\t\tsize: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 200\r\n\t\t},\r\n\t\tunit: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'upx'\r\n\t\t},\r\n\t\tshow: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\tval: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\tbackground: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '#ffffff'\r\n\t\t},\r\n\t\tforeground: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '#000000'\r\n\t\t},\r\n\t\tpdground: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '#000000'\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\ticonSize: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 40\r\n\t\t},\r\n\t\tlv: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 3\r\n\t\t},\r\n\t\tonval: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tloadMake: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tusingComponents: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\tshowLoading: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\tloadingText: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '二维码生成中'\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tresult: '',\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t_makeCode() {\r\n\t\t\tlet that = this\r\n\t\t\tif (!this._empty(this.val)) {\r\n\t\t\t\tqrcode = new QRCode({\r\n\t\t\t\t\tcontext: that, // 上下文环境\r\n\t\t\t\t\tcanvasId:that.cid, // canvas-id\r\n\t\t\t\t\tusingComponents: that.usingComponents, // 是否是自定义组件\r\n\t\t\t\t\tshowLoading: that.showLoading, // 是否显示loading\r\n\t\t\t\t\tloadingText: that.loadingText, // loading文字\r\n\t\t\t\t\ttext: that.val, // 生成内容\r\n\t\t\t\t\tsize: that.cpSize, // 二维码大小\r\n\t\t\t\t\tbackground: that.background, // 背景色\r\n\t\t\t\t\tforeground: that.foreground, // 前景色\r\n\t\t\t\t\tpdground: that.pdground, // 定位角点颜色\r\n\t\t\t\t\tcorrectLevel: that.lv, // 容错级别\r\n\t\t\t\t\timage: that.icon, // 二维码图标\r\n\t\t\t\t\timageSize: that.iconSize,// 二维码图标大小\r\n\t\t\t\t\tcbResult: function (res) { // 生成二维码的回调\r\n\t\t\t\t\t\tthat._result(res)\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '二维码内容不能为空',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 2000\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t_clearCode() {\r\n\t\t\tthis._result('')\r\n\t\t\tqrcode.clear()\r\n\t\t},\r\n\t\t_saveCode() {\r\n\t\t\tlet that = this;\r\n\t\t\tif (this.result != \"\") {\r\n\t\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\tfilePath: that.result,\r\n\t\t\t\t\tsuccess: function () {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '二维码保存成功',\r\n\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t_result(res) {\r\n\t\t\tthis.result = res;\r\n\t\t\tthis.$emit('result', res)\r\n\t\t},\r\n\t\t_empty(v) {\r\n\t\t\tlet tp = typeof v,\r\n\t\t\t\trt = false;\r\n\t\t\tif (tp == \"number\" && String(v) == \"\") {\r\n\t\t\t\trt = true\r\n\t\t\t} else if (tp == \"undefined\") {\r\n\t\t\t\trt = true\r\n\t\t\t} else if (tp == \"object\") {\r\n\t\t\t\tif (JSON.stringify(v) == \"{}\" || JSON.stringify(v) == \"[]\" || v == null) rt = true\r\n\t\t\t} else if (tp == \"string\") {\r\n\t\t\t\tif (v == \"\" || v == \"undefined\" || v == \"null\" || v == \"{}\" || v == \"[]\") rt = true\r\n\t\t\t} else if (tp == \"function\") {\r\n\t\t\t\trt = false\r\n\t\t\t}\r\n\t\t\treturn rt\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tsize: function (n, o) {\r\n\t\t\tif (n != o && !this._empty(n)) {\r\n\t\t\t\tthis.cSize = n\r\n\t\t\t\tif (!this._empty(this.val)) {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis._makeCode()\r\n\t\t\t\t\t}, 100);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tval: function (n, o) {\r\n\t\t\tif (this.onval) {\r\n\t\t\t\tif (n != o && !this._empty(n)) {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis._makeCode()\r\n\t\t\t\t\t}, 0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tcpSize() {\r\n\t\t\tif(this.unit == \"upx\"){\r\n\t\t\t\treturn uni.upx2px(this.size)\r\n\t\t\t}else{\r\n\t\t\t\treturn this.size\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted: function () {\r\n\t\tif (this.loadMake) {\r\n\t\t\tif (!this._empty(this.val)) {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis._makeCode()\r\n\t\t\t\t}, 0);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n}\r\n</script>\r\n<style>\r\n.tki-qrcode {\r\n  position: relative;\r\n}\r\n.tki-qrcode-canvas {\r\n  position: fixed;\r\n  top: -99999upx;\r\n  left: -99999upx;\r\n  z-index: -99999;\r\n}\r\n</style>\r\n","import mod from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tki-qrcode.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tki-qrcode.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1686016256405\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages_category_page1/goodsModule/invitePoster.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./invitePoster.vue?vue&type=template&id=7f60c778&\"\nvar renderjs\nimport script from \"./invitePoster.vue?vue&type=script&lang=js&\"\nexport * from \"./invitePoster.vue?vue&type=script&lang=js&\"\nimport style0 from \"./invitePoster.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages_category_page1/goodsModule/invitePoster.vue\"\nexport default component.exports","export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./invitePoster.vue?vue&type=template&id=7f60c778&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./invitePoster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./invitePoster.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"invitePoster-box\">\r\n\t\t<view class=\"poster-box flex-items-plus flex-column\">\r\n\t\t\t<image class=\"header-img mar-top-10\" :src=\"data.headImage\"></image>\r\n\t\t\t<label class=\"mar-top-30\">发现一件好物，快来和我一起拼</label>\r\n\t\t\t<image class=\"poster-img mar-top-50\" :src=\"data.image\"></image>\r\n\t\t\t<view class=\"flex-row-plus flex-sp-between mar-top-40\">\r\n\t\t\t\t<view class=\"flex-column-plus\">\r\n\t\t\t\t\t<label class=\"title-lab fs28\">{{data.productName}}</label>\r\n\t\t\t\t\t<view class=\"spellNum flex-items-plus font-color-FF7800 mar-top-30 fs24\">{{data.person}}人团</view>\r\n\t\t\t\t\t<view class=\"flex-row-plus mar-top-20 flex-items\">\r\n\t\t\t\t\t\t<label class=\"font-color-FF7800 fs24\">¥</label>\r\n\t\t\t\t\t\t<label class=\"font-color-FF7800 fs36 mar-left-5\">{{data.price}}</label>\r\n\t\t\t\t\t\t<label class=\"font-color-999 fs26 mar-left-20\">原价：¥{{data.originalPrice}}</label>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"flex-column-plus flex-items-plus\">\r\n\t\t\t\t\t<image style=\"width: 180upx;height: 180upx;\" :src=\"qrcode\"></image>\r\n\t\t\t\t\t<label class=\"font-color-666\">扫描二维码</label>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- #ifndef H5 -->\r\n\t\t\t<view @click=\"savePoster(1)\" class=\"saveposter-but flex-items-plus mar-top-50\">保存海报</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<!-- #ifdef H5 -->\r\n\t\t\t<view @click=\"savePoster(2)\" class=\"saveposter-but flex-items-plus mar-top-50\">预览海报</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t</view>\r\n\t\t<view class=\"bor-reu-8 pad-bot-30 canvas-box\">\r\n\t\t\t<canvas style=\"width: 720rpx; height: 1000rpx;\" canvas-id=\"posterCanvas\" id=\"posterCanvas\"></canvas>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tconst NET = require('../../utils/request')\r\n\tconst API = require('../../config/api')\r\n\timport tkiQrcode from '@/components/tki-qrcode/tki-qrcode.vue'\r\n\timport { pathToBase64, base64ToPath } from 'image-tools'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdata:{},\r\n\t\t\t\tcanvasWidth:0,\r\n\t\t\t\tcodeImg:'',\r\n\t\t\t\tcodeImg2:'',\r\n\t\t\t\theadImage:'',\r\n\t\t\t\timage:'',\r\n\t\t\t\tqrcode:'',\r\n\t\t\t\tqrcodeimg:''\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tthis.data =JSON.parse(options.data)\r\n\t\t\tthis.getShare()\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tsavePoster(type){\r\n\t\t\t\tif(type == 1){\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle:\"保存中...\"\r\n\t\t\t\t\t})\r\n          console.log(9999)\r\n\t\t\t\t\tlet that = this\r\n\t\t\t\t\tsetTimeout(function(){\r\n            // #ifdef H5 || MP-WEIXIN || APP-PLUS\r\n\t\t\t\t\t\tuni.canvasToTempFilePath({ //把画布转化成临时文件进行保存\r\n\t\t\t\t\t\t\tfileType: 'png', // 保存成的文件类型\r\n\t\t\t\t\t\t\tquality: 0, // 图片质量\r\n\t\t\t\t\t\t\tcanvasId: 'posterCanvas', // 画布ID\r\n\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t  console.log(res.tempFilePath, 'test')\r\n                that.saveDownload(res.tempFilePath)\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail() {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '保存失败，稍后再试',\r\n\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n            // #endif\r\n            // #ifdef MP-ALIPAY\r\n            const CanvasContext = my.createCanvasContext('posterCanvas');\r\n            CanvasContext.toTempFilePath({\r\n              success(res) {\r\n                console.log(2222)\r\n                console.log(res.apFilePath)\r\n                my.saveImage({\r\n                  url: res.apFilePath,\r\n                  success: res => {\r\n                    console.log('saveImage', res)\r\n                    uni.hideLoading();\r\n                    uni.showToast({\r\n                      title: '图片保存成功~',\r\n                      duration: 2000\r\n                    })\r\n                  },\r\n                  fail: err => {\r\n                    console.error('saveImage err', err)\r\n                  },\r\n                })\r\n              },\r\n              fail() {\r\n                uni.showToast({\r\n                  title: '保存失败，稍后再试',\r\n                  duration: 2000,\r\n                  icon: 'none'\r\n                })\r\n                uni.hideLoading();\r\n              }\r\n            })\r\n            // #endif\r\n\t\t\t\t\t},5000)\r\n\t\t\t\t}else if(type == 2){\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle:\"图片生成中...\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\tlet that = this\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\tuni.canvasToTempFilePath({ //把画布转化成临时文件进行保存\r\n\t\t\t\t\t\t\tfileType: 'png', // 保存成的文件类型\r\n\t\t\t\t\t\t\tquality: 0, // 图片质量\r\n\t\t\t\t\t\t\tcanvasId: 'posterCanvas', // 画布ID\r\n\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\tuni.downloadFile({\r\n\t\t\t\t\t\t\t\t\turl: res.tempFilePath,//网络路径，下载下来\r\n\t\t\t\t\t\t\t\t\tsuccess: (res1) => {\r\n\t\t\t\t\t\t\t\t\t\tif (res1.statusCode === 200) {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\t   title: '提示',\r\n\t\t\t\t\t\t\t\t\t\t\t   content: '长按即可保存图片',\r\n\t\t\t\t\t\t\t\t\t\t\t   confirmText: \"确定\",\r\n\t\t\t\t\t\t\t\t\t\t\t   cancelText: '取消',\r\n\t\t\t\t\t\t\t\t\t\t\t   success: (res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.previewImage({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrent: res1.tempFilePath, // 当前显示图片的http链接\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turls: [res1.tempFilePath] // 需要预览的图片http链接列表\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\t\tconsole.log(err.errMsg)\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '保存失败，稍后再试',\r\n\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},5000)\r\n\t\t\t\t}\r\n\t\t\t},\r\n      saveDownload (file) {\r\n        uni.downloadFile({\r\n          url: file,//网络路径，下载下来\r\n          success: (res1) => {\r\n            if (res1.statusCode === 400 || res1.statusCode === 200) {\r\n              // 2-保存图片至相册\r\n              console.log(2222)\r\n              uni.saveImageToPhotosAlbum({ // 存成图片至手机\r\n                filePath: file, //画布保存的图片临时文件\r\n                success(res2) {\r\n                  console.log(3333)\r\n                  uni.hideLoading();\r\n                  uni.showToast({\r\n                    title: '图片保存成功~',\r\n                    duration: 2000\r\n                  })\r\n                },\r\n                fail(res3) {\r\n                  if (res3.errMsg === 'saveImageToPhotosAlbum:fail auth deny') {\r\n                    that.$store.dispatch('SetPhoneShow', 1)\r\n                    uni.showToast({\r\n                      title: '保存失败，稍后再试',\r\n                      duration: 2000,\r\n                      icon: 'none'\r\n                    })\r\n                  } else {\r\n                    uni.showToast({\r\n                      title: '保存失败，稍后再试',\r\n                      duration: 2000,\r\n                      icon: 'none'\r\n                    })\r\n                  }\r\n                  uni.hideLoading();\r\n                }\r\n              })\r\n            }\r\n          }\r\n        })\r\n      },\r\n\t\t\tgetShare(){\r\n\t\t\t\tNET.request(API.getShare,\r\n\t\t\t\t{\r\n\t\t\t\t\tcollageId:this.data.collageId,\r\n\t\t\t\t\torderId:this.data.orderId,\r\n\t\t\t\t\tproductId:this.data.productId,\r\n\t\t\t\t\tskuId:this.data.skuId,\r\n\t\t\t\t\ttype:0\r\n\t\t\t\t},\r\n\t\t\t\t\"GET\").then(res => {\r\n\t\t\t\t\tthis.qrcode = res.data.qrcode\r\n\t\t\t\t\tthis.getCanvas()\r\n\t\t\t\t}).catch(res => {\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetCanvas(){\r\n\t\t\t\tlet that = this\r\n\t\t\t\tuni.getImageInfo({\r\n\t\t\t\t\tsrc: that.data.headImage,\r\n\t\t\t\t\tsuccess: function (image) {\r\n\t\t\t\t\t\tthat.headImage = image.path\r\n\t\t\t\t\t\tuni.getImageInfo({\r\n\t\t\t\t\t\t\tsrc: that.data.image,\r\n\t\t\t\t\t\t\tsuccess: function (image2) {\r\n\t\t\t\t\t\t\t\tthat.image = image2.path\r\n\t\t\t\t\t\t\t\tuni.getImageInfo({\r\n\t\t\t\t\t\t\t\t\tsrc: that.qrcode,\r\n\t\t\t\t\t\t\t\t\tsuccess: function (image3) {\r\n\t\t\t\t\t\t\t\t\t\tthat.qrcodeimg = image3.path\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tvar ctx = uni.createCanvasContext('posterCanvas')\r\n\t\t\t\t\t\t\t\t\t\t\tctx.setFillStyle('#FFFFFF')\r\n\t\t\t\t\t\t\t\t\t\t\tctx.fillRect(15, 0, 820, 1000)\r\n\t\t\t\t\t\t\t\t\t\t\t// ctx.drawImage(that.data.headImage, 0, 0, 150, 100)\r\n\t\t\t\t\t\t\t\t\t\t\tthat.drawRound(ctx,25,160,28,that.headImage)\r\n\t\t\t\t\t\t\t\t\t\t\tctx.setFontSize(14)\r\n\t\t\t\t\t\t\t\t\t\t\tctx.setFillStyle('#333333')\r\n\t\t\t\t\t\t\t\t\t\t\tctx.fillText('发现一件好物，快来和我一起拼', 89, 120)\r\n\t\t\t\t\t\t\t\t\t\t\tctx.drawImage(that.image, 25, 150, 310, 200)\r\n\t\t\t\t\t\t\t\t\t\t\tctx.setFontSize(14)\r\n\t\t\t\t\t\t\t\t\t\t\tctx.setFillStyle('#333333')\r\n\t\t\t\t\t\t\t\t\t\t\tctx.fillText(that.data.productName, 40, 390)\r\n\t\t\t\t\t\t\t\t\t\t\tctx.setFontSize(14)\r\n\t\t\t\t\t\t\t\t\t\t\tctx.setFillStyle('#FF7800')\r\n\t\t\t\t\t\t\t\t\t\t\tctx.fillText(that.data.person+'人团', 40, 430)\r\n\t\t\t\t\t\t\t\t\t\t\tctx.setFontSize(24)\r\n\t\t\t\t\t\t\t\t\t\t\tctx.setFillStyle('#FF7800')\r\n\t\t\t\t\t\t\t\t\t\t\tctx.fillText('¥'+that.data.price, 40, 470)\r\n\t\t\t\t\t\t\t\t\t\t\tctx.setFontSize(14)\r\n\t\t\t\t\t\t\t\t\t\t\tctx.setFillStyle('#999999')\r\n\t\t\t\t\t\t\t\t\t\t\tctx.fillText('原价：¥'+that.data.originalPrice, 120, 468)\r\n\t\t\t\t\t\t\t\t\t\t\tctx.drawImage(that.qrcodeimg, 245, 370,80, 80)\r\n\t\t\t\t\t\t\t\t\t\t\tctx.setFontSize(14)\r\n\t\t\t\t\t\t\t\t\t\t\tctx.setStrokeStyle('#666666')\r\n\t\t\t\t\t\t\t\t\t\t\tctx.fillText('扫描二维码', 250, 468)\r\n\t\t\t\t\t\t\t\t\t\t\tctx.draw()\r\n\t\t\t\t\t\t\t\t\t\t}, 1500)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\texportImg(){\r\n\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\tfileType: \"jpg\",\r\n\t\t\t\t\tcanvasId: 'couponQrcode',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tlet that = this\r\n\t\t\t\t\t\t// 在H5平台下，tempFilePath 为 base64\r\n\t\t\t\t\t\t// #ifndef H5\r\n\t\t\t\t\t\tthat.codeImg = res.tempFilePath\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\tbase64ToPath(res.tempFilePath).then(path => {\r\n\t\t\t\t\t\t\tthat.codeImg = path\r\n\t\t\t\t\t\t}).catch(error => {\r\n\t\t\t\t\t\t\tconsole.error(error)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdrawRound (ctx,r,x,y,img) {\r\n\t\t\t    ctx.save() // 保存之前的\r\n\t\t\t    var r = r // 半径*屏幕分辨率比例\r\n\t\t\t    var d = 2*r // 直径\r\n\t\t\t    var cx = x + r // 圆弧坐标x\r\n\t\t\t    var cy = y + r // 圆弧坐标 y\r\n\t\t\t    ctx.arc(cx, cy, r ,0, 2*Math.PI)\r\n\t\t\t    ctx.clip() // 裁剪\r\n\t\t\t    ctx.drawImage(img, x, y, d, d) // 画头像\r\n\t\t\t    ctx.restore() // 返回上一状态\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.qrcode {\r\n\tpadding: 0upx 0 20upx 0;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n.title {\r\n\ttext-align: center;\r\n}\r\n.canvas-box{\r\n\tposition: absolute;\r\n\ttop: -88888rpx;\r\n}\r\npage{background-color: #F7F7F7;}\r\n.invitePoster-box{\r\n\t.bor-reu-8{border-radius: 8rpx;}\r\n\r\n\t.poster-box{\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tmargin: 30rpx 30rpx;\r\n\t\twidth: 690rpx;\r\n\t\tpadding: 40rpx 34rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t\t.header-img{\r\n\t\t\twidth: 100rpx;\r\n\t\t\theight: 100rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t}\r\n\t\t.poster-img{\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 414rpx;\r\n\t\t}\r\n\t\t.title-lab{\r\n\t\t\twidth: 400rpx;\r\n\t\t}\r\n\t\t.spellNum{\r\n\t\t\tbackground-color: #FFEDDF;\r\n\t\t\tborder-radius: 22rpx;\r\n\t\t\twidth: 144rpx;\r\n\t\t\theight: 44rpx;\r\n\t\t}\r\n\t\t.code-img{\r\n\t\t\twidth: 142rpx;\r\n\t\t\theight: 142rpx;\r\n\t\t}\r\n\t\t.saveposter-but{\r\n\t\t\tborder-radius: 5rpx;\r\n\t\t\tbackground-color: #FF7800;\r\n\t\t\tcolor: #FFFFFF;\r\n\t\t\twidth: 420rpx;\r\n\t\t\theight: 66rpx;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./invitePoster.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./invitePoster.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1686016260605\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}