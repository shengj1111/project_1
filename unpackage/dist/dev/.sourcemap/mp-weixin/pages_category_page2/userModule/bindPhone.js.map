{"version":3,"sources":["uni-app:///main.js","webpack:///F:/project/60小程序/6006正品茂商城/zhengpinmaoapinew/ceres-uniapp/pages_category_page2/userModule/bindPhone.vue?1c14","webpack:///F:/project/60小程序/6006正品茂商城/zhengpinmaoapinew/ceres-uniapp/pages_category_page2/userModule/bindPhone.vue?b4d4","webpack:///F:/project/60小程序/6006正品茂商城/zhengpinmaoapinew/ceres-uniapp/pages_category_page2/userModule/bindPhone.vue?a3c8","webpack:///F:/project/60小程序/6006正品茂商城/zhengpinmaoapinew/ceres-uniapp/pages_category_page2/userModule/bindPhone.vue?d904","uni-app:///pages_category_page2/userModule/bindPhone.vue","webpack:///F:/project/60小程序/6006正品茂商城/zhengpinmaoapinew/ceres-uniapp/pages_category_page2/userModule/bindPhone.vue?16dc","webpack:///F:/project/60小程序/6006正品茂商城/zhengpinmaoapinew/ceres-uniapp/pages_category_page2/userModule/bindPhone.vue?0e20"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","disabled","phone","code","nickName","wechatOpenId","headImg","bindPhoneShow","verifyType","buyerUserId","isMp","mpAlipay","mpWechat","onLoad","mixins","methods","closepopupbind","codede","uni","title","duration","icon","NET","bindPhone","onGetAuthorize","my","success","that","fail","console","onAuthError","getPhoneNumber","provider","sessionKey","encryptedData","iv","headImage","updateWxPhone","verificationCode","updateAliPhone","bindSalesCustomer","shopId","distributorId","gotoHome","url"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,kBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;AACc;;;AAGtE;AACoL;AACpL,gBAAgB,6LAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChBA;AAAA;AAAA;AAAA;AAA8qB,CAAgB,msBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACkElsB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;IAMA;EAEA;EACAC;EACAC;IACAC;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;QACAC;UACAC;UACAC;UACAC;QACA;MACA;QACAH;UACAC;UACAC;UACAC;QACA;MACA;QACAC;UACApB;QACA;UACA;QACA;UACAgB;YACAC;YACAC;YACAC;UACA;QACA;MACA;IACA;IAEAE;MAKA;IAEA;IACAC;MAEA;MACAN;QACAC;MACA;MACAM;QACAC;UACA;UACAC;QACA;QACAC;UACAC;UACAX;UACAA;YACAC;YACAE;UACA;QACA;MACA;IACA;IACAS;MACAD;IACA;IACAE;MAAA;MACA;QACAF;QACAX;UACAc;UACAN;YACAJ;cACAnB;YACA;cACAmB;gBACAjB;gBACA4B;gBACAC;gBACAC;gBACAC;gBACAhC;cACA;gBACA;gBACAc;gBACAW;gBACA;gBACA;cACA;YACA;cACAA;YACA;UACA;UACAD;YACAV;cACAC;cACAE;YACA;UACA;QACA;MACA;QACAH;UACAC;UACAE;QACA;MACA;IAEA;IACAgB;MAAA;MACAf;QACApB;QACAG;QACA+B;QACAhC;QACAkC;MACA;QACA;QACApB;QACA;QACAA;UACAC;UACAC;UACAC;QACA;QACA;MACA;QACA;MACA;IACA;IACAkB;MAAA;MACAjB;QACA;QACA;QACA;MACA;QACAO;QACA;QACAX;QACA;QACA;QACAA;UACAC;UACAC;UACAC;QACA;QACA;MACA;QACAH;MACA;IACA;IACAsB;MACA;MACA;MACA;QACA;QACAX;QACAP;UACAmB;UACAC;QACA;UACAxB;UACAA;QACA;UACAW;UACAA;QACA;MACA;IACA;IACAc;MAOAzB;QACA0B;MACA;IAEA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC9RA;AAAA;AAAA;AAAA;AAAqxC,CAAgB,kvCAAG,EAAC,C;;;;;;;;;;;ACAzyC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages_category_page2/userModule/bindPhone.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages_category_page2/userModule/bindPhone.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./bindPhone.vue?vue&type=template&id=b5c603e6&\"\nvar renderjs\nimport script from \"./bindPhone.vue?vue&type=script&lang=js&\"\nexport * from \"./bindPhone.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bindPhone.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages_category_page2/userModule/bindPhone.vue\"\nexport default component.exports","export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./bindPhone.vue?vue&type=template&id=b5c603e6&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.verifyType = 2\n    }\n    _vm.e1 = function ($event) {\n      _vm.verifyType = 1\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./bindPhone.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./bindPhone.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container flex-items-plus flex-column\" style=\"height: auto;\">\r\n\t\t\r\n\t\t<view class=\"verifyTypeBox\" v-if=\"isMp\">\r\n\t\t\t<view class=\"verifyItem\" :class=\"{'verify-checked':verifyType == 2}\" @click=\"verifyType = 2\">\r\n\t\t\t\t小程序授权\r\n\t\t\t</view>\r\n\t\t\t<view class=\"verifyItem\" :class=\"{'verify-checked':verifyType == 1}\" @click=\"verifyType = 1\">\r\n\t\t\t\t短信验证码\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t</view>\r\n\t\t\r\n\t\t\r\n\t\t<view class=\"phoneVerify\" v-if=\"verifyType == 1\">\r\n\t\t\t<view class=\"iphoneNum-box flex-row-plus flex-items\">\r\n\t\t\t\t<view style=\"margin-left:39upx;\">\r\n\t\t\t\t\t手机号\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"margin-left:18upx;\">\r\n\t\t\t\t\t<input v-model=\"phone\" placeholder-class=\"iphoneNum-input\" type=\"number\" placeholder=\"请输入手机号\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex-row-plus mar-top-20\">\r\n\t\t\t\t<view class=\"code-box\">\r\n\t\t\t\t\t<view style=\"margin-left:20upx;\">\r\n\t\t\t\t\t\t验证码\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<input v-model=\"code\" style=\"width: 180upx;margin-left: 10upx;\"\r\n\t\t\t\t\t\t\tplaceholder-class=\"codeNum-input\" placeholder=\"请输入验证码\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view :class=\"disabled === true ? 'on' : ''\" :disabled=\"disabled\" class=\"getcode\" @click=\"codede\">\r\n\t\t\t\t\t{{text}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 确认按钮 -->\r\n\t\t\t<view class=\"mar-top-60\">\r\n\t\t\t\t<view class=\"registerBut mar-top-100\" @click=\"bindPhone\">确认</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!--<u-popup v-model=\"bindPhoneShow\" class=\"popupbind\" mode=\"center\" border-radius=\"14\" @close=\"closepopupbind\"\r\n\t\t\t\t:closeable=\"true\" close-icon-pos=\"top-right\" close-icon-size=\"20\">\r\n\t\t\t\t<view class=\"popupbind-box flex-items-plus\">\r\n\t\t\t\t\t<view class=\"flex-column flex-items-plus\" style=\"width: 95%;\">\r\n\t\t\t\t\t\t<view class=\"fa38 font-color-FF7800\">提示</view>\r\n\t\t\t\t\t\t<view class=\"mar-top-50\" style=\"width: 90%;\">此手机号已经绑定其他微信号，暂时无法与您的微信账号进行绑定。</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</u-popup>-->\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"mpVerify\" v-if=\"verifyType == 2\">\r\n\t\t\t<button v-if=\"mpAlipay\" class=\"verifyPhone\" open-type=\"getAuthorize\" @getAuthorize=\"onGetAuthorize\" @error=\"onAuthError\"\r\n\t\t\t\tscope='phoneNumber'>授权手机号验证</button>\r\n\r\n\t\t\t<button v-if=\"mpWechat\" class=\"verifyPhone fs28 mar-top-100\" open-type=\"getPhoneNumber\"\r\n\t\t\t\t@getphonenumber=\"getPhoneNumber\">微信手机号授权</button>\r\n\t\t</view>\r\n\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport sendVerifyCode from \"@/mixins/SendVerifyCode\";\r\n\tconst NET = require('../../utils/request')\r\n\tconst API = require('../../config/api')\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tphone: '',\r\n\t\t\t\tcode: '',\r\n\t\t\t\tnickName:\"\",\r\n\t\t\t\twechatOpenId: '',\r\n\t\t\t\theadImg: '',\r\n\t\t\t\tbindPhoneShow: false,\r\n\t\t\t\tverifyType:2,\r\n\t\t\t\tbuyerUserId: 0,\r\n\t\t\t\tisMp: false,\r\n\t\t\t\tmpAlipay: false,\r\n\t\t\t\tmpWechat: false\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tif (options.data) {\r\n\t\t\t\tconst bindPhoneData = JSON.parse(options.data);\r\n\t\t\t\tthis.wechatOpenId = bindPhoneData.wechatOpenId\r\n\t\t\t\tthis.headImg = bindPhoneData.headImg\r\n\t\t\t\tthis.nickName=bindPhoneData.nickName;\r\n\t\t\t\tthis.buyerUserId = bindPhoneData.buyerUserId\r\n\t\t\t}\r\n\t\t\t// #ifdef MP\r\n\t\t\tthis.isMp = true\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef MP-ALIPAY\r\n\t\t\tthis.mpAlipay = true\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\tthis.mpWechat = true\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tmixins: [sendVerifyCode],\r\n\t\tmethods: {\r\n\t\t\tclosepopupbind() {\r\n\t\t\t\tthis.bindPhoneShow = false\r\n\t\t\t},\r\n\t\t\t//  获取验证码\r\n\t\t\tcodede() {\r\n\t\t\t\tlet phoneCodeVerification = /^[1][3-9][0-9]{9}$/;\r\n\t\t\t\tif (this.phone == '') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入手机号！',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (!phoneCodeVerification.test(this.phone)) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入正确的手机号！',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tNET.request(API.Verify, {\r\n\t\t\t\t\t\tphone: this.phone,\r\n\t\t\t\t\t}, 'GET').then(res => {\r\n\t\t\t\t\t\tthis.sendCode()\r\n\t\t\t\t\t}).catch(res => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.message,\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tbindPhone() {\r\n\t\t\t\t// #ifdef MP-ALIPAY\r\n\t\t\t\tthis.updateAliPhone(this.phone, false)\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tthis.updateWxPhone()\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tonGetAuthorize() {\r\n\t\t\t\t\r\n\t\t\t\tconst that = this\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '验证中...',\r\n\t\t\t\t})\r\n\t\t\t\tmy.getPhoneNumber({\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tlet encryptedData = res.response;\r\n\t\t\t\t\t\tthat.updateAliPhone(encryptedData, true)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\tconsole.log('getPhoneNumber failed', res);\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '验证失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonAuthError() {\r\n\t\t\t\tconsole.log('onAuthError')\r\n\t\t\t},\r\n\t\t\tgetPhoneNumber(e) {\r\n\t\t\t\tif (e.detail.errMsg === \"getPhoneNumber:ok\") {\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\tuni.login({\r\n\t\t\t\t\t\tprovider: 'weixin',\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tNET.request(API.GetSessionKey, {\r\n\t\t\t\t\t\t\t\tcode: res.code,\r\n\t\t\t\t\t\t\t}, 'POST').then(res1 => {\r\n\t\t\t\t\t\t\t\tNET.request(API.SetWxPhone, {\r\n\t\t\t\t\t\t\t\t\twechatOpenId: res1.data.wechatOpenId,\r\n\t\t\t\t\t\t\t\t\tsessionKey: res1.data.sessionKey,\r\n\t\t\t\t\t\t\t\t\tencryptedData: e.detail.encryptedData,\r\n\t\t\t\t\t\t\t\t\tiv: e.detail.iv,\r\n\t\t\t\t\t\t\t\t\theadImage: this.headImg,\r\n\t\t\t\t\t\t\t\t\tnickName:this.nickName\r\n\t\t\t\t\t\t\t\t}, 'POST').then(res2 => {\r\n\t\t\t\t\t\t\t\t\tconst item = res2.data\r\n\t\t\t\t\t\t\t\t\tuni.setStorageSync('storage_key', item);\r\n\t\t\t\t\t\t\t\t\tconsole.log(uni.getStorageSync('storage_key'))\r\n\t\t\t\t\t\t\t\t\t// this.bindSalesCustomer()\r\n\t\t\t\t\t\t\t\t\tthis.gotoHome()\r\n\t\t\t\t\t\t\t\t}).catch(res => {})\r\n\t\t\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\t\t\tconsole.log(err, 22222)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"微信登录授权失败\",\r\n\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"获取手机授权失败\",\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tupdateWxPhone() {\r\n\t\t\t\tNET.request(API.UpdateWxPhone, {\r\n\t\t\t\t\tphone: this.phone,\r\n\t\t\t\t\twechatOpenId: this.wechatOpenId,\r\n\t\t\t\t\theadImage: this.headImg,\r\n\t\t\t\t\tnickName:this.nickName,\r\n\t\t\t\t\tverificationCode: this.code\r\n\t\t\t\t}, 'POST').then(res => {\r\n\t\t\t\t\tconst item = res.data\r\n\t\t\t\t\tuni.setStorageSync('storage_key', item);\r\n\t\t\t\t\t// this.bindSalesCustomer()\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '绑定成功',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.gotoHome()\r\n\t\t\t\t}).catch(res => {\r\n\t\t\t\t\tthis.bindPhoneShow = true\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tupdateAliPhone(encryptedData, encrypted) {\r\n\t\t\t\tNET.request(API.UpdateAliPhone, {\r\n\t\t\t\t\t'phone': encryptedData,\r\n\t\t\t\t\t'buyerUserId': this.buyerUserId,\r\n\t\t\t\t\t'encrypted': encrypted\r\n\t\t\t\t}, 'POST').then(res => {\r\n\t\t\t\t\tconsole.log('UpdateAliPhone res: ', res)\r\n\t\t\t\t\tconst item = res.data\r\n\t\t\t\t\tuni.setStorageSync('storage_key', item);\r\n\t\t\t\t\t// this.bindSalesCustomer()\r\n\t\t\t\t\tthis.phone = item.phone\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '绑定成功',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.gotoHome()\r\n\t\t\t\t}).finally(res => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tbindSalesCustomer() {\r\n\t\t\t\tconst shopId = uni.getStorageSync('shopId')\r\n\t\t\t\tconst salesId = uni.getStorageSync('salesId')\r\n\t\t\t\tif (shopId && salesId) {\r\n\t\t\t\t\t// 多次调用绑定方法，不提示任何信息即可\r\n\t\t\t\t\tconsole.log('bindPhone bindSalesCustomer')\r\n\t\t\t\t\tNET.request(API.BindSalesCustomer, {\r\n\t\t\t\t\t\tshopId: shopId,\r\n\t\t\t\t\t\tdistributorId: salesId\r\n\t\t\t\t\t}, 'POST').then(res => {\r\n\t\t\t\t\t\tuni.removeStorageSync('salesId');\r\n\t\t\t\t\t\tuni.removeStorageSync('shopId');\r\n\t\t\t\t\t}).catch(res => {\r\n\t\t\t\t\t\tconsole.log('bindPhone bindSalesCustomer error')\r\n\t\t\t\t\t\tconsole.dir(res)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgotoHome() {\r\n\t\t\t\t// #ifdef MP-ALIPAY\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/tabbar/user/index'\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifndef MP-ALIPAY\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: '/pages/tabbar/user/index'\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.container {\r\n\t\tbackground-color: #FFFFFF;\r\n\t\theight: 100vh;\r\n\r\n\t\t// .login-logoBox {\r\n\t\t// \tmargin-top: -300upx;\r\n\r\n\t\t// \t.login-logo {\r\n\t\t// \t\twidth: 234upx;\r\n\t\t// \t\theight: 193upx;\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\t.verifyTypeBox {\r\n\t\t\tmargin-top: 30rpx;\r\n\t\t\twidth: 98%;\r\n\t\t\t// border: 1upx solid $mainColor;\r\n\r\n\t\t\t.verifyItem {\r\n\t\t\t\twidth: 50%;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tfloat: left;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\t// border: 2upx solid $mainColor;\r\n\t\t\t\tpadding: 30upx 20upx;\r\n\t\t\t\tfont-size: 34upx;\r\n\t\t\t}\r\n\r\n\t\t\t.verify-checked {\r\n\t\t\t\tcolor: white;\r\n\t\t\t\tbackground: $mainColor;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.phoneVerify {\r\n\t\t\theight: 500upx;\r\n\r\n\t\t\t.iphoneNum-box {\r\n\t\t\t\tmargin-top: 40upx;\r\n\t\t\t\tborder: 1upx solid #DDDDDD;\r\n\t\t\t\theight: 88upx;\r\n\t\t\t\twidth: 600upx;\r\n\t\t\t\tborder-radius: 44upx;\r\n\r\n\t\t\t\t.iphoneNum-input {\r\n\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\tfont-size: 28upx;\r\n\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.code-box {\r\n\t\t\t\tborder: 1upx solid #DDDDDD;\r\n\t\t\t\theight: 88upx;\r\n\t\t\t\twidth: 360upx;\r\n\t\t\t\tborder-radius: 44upx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tpadding: 0upx 20upx 0upx;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t.code-lab {\r\n\t\t\t\t\twidth: 200upx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.codeNum-input {\r\n\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\tfont-size: 28upx;\r\n\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.getcode {\r\n\t\t\t\tbackground-color: $mainColor;\r\n\t\t\t\theight: 88upx;\r\n\t\t\t\twidth: 220upx;\r\n\t\t\t\tborder-radius: 44upx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-left: 20upx;\r\n\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t}\r\n\r\n\t\t\t.registerBut {\r\n\t\t\t\tbackground-color: $mainColor;\r\n\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\theight: 88upx;\r\n\t\t\t\twidth: 600upx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 88upx;\r\n\t\t\t\tborder-radius: 88upx;\r\n\t\t\t\tmargin-top: 17upx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.mpVerify {\r\n\t\t\theight: 500upx;\r\n\r\n\t\t\t.verifyPhone {\r\n\t\t\t\tbackground-color: $mainColor;\r\n\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\theight: 88upx;\r\n\t\t\t\twidth: 600upx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 88upx;\r\n\t\t\t\tborder-radius: 88upx;\r\n\t\t\t\tmargin-top: 88upx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./bindPhone.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./bindPhone.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1686016270632\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}